# Description
This library takes separate declaration asset files generated by the webpack build process and bundles them into one single declaration file.

## When to use this
This plugin, with a setup as below, lets an external module mimic an internal module. 
The usecase this was created for is to load modules in separate files while also being able to map prefixed URI's (like foaf:Image) back to a module path (my.modules.rdfs.Image). 
Only in the rare case you want to do something similar, this may be helpful.

# Options: 

- out: the path where the combined declaration file should be saved.

# Requirements:
This plugin was developed as an extention to the [ts-loader](https://github.com/TypeStrong/ts-loader) which - when `declaration` is set to `true` in `tsconfig.json` - generates separate declaration files for each source file. In theory though, it should work with any loader which generates declaration files as output.

Here is an example setup:

    //init.ts
    import Foo './foo';
    import Foo2 './foo2';

    export default class init {
		getNewFoo():Foo
		{
			return new Foo();
		}
		getNewFoo2():Foo2
		{
				return new Foo2();
		}
	}
    
    //foo.ts
    export default class Foo
    {
        bar():boolean
        {
        	return true;
        }
    }
    
    //foo2.ts
    import Foo './foo';

    export default class Foo2 extends Foo
    {
        bar():boolean
        {
        	return true;
        }
    }

Which generates (when using the declaration=true flag for the typescript compiler)

    //init.d.ts
    declare class init {
    	getNewFoo():Foo;
    	getNewFoo2():Foo2;
    }
    export default init;
    
    //foo.d.ts
    declare class Foo {
        bar():boolean;
    }
    export default Foo;
    
    //foo2.d.ts
    import Foo './foo';
    declare class Foo2 extends Foo {
        bar():boolean;
    }
    export default Foo2;
    
Which with the following webpack.config.js

    var DeclarationBundlerPlugin = require('declaration-bundler-webpack-plugin');
    module.exports = {
        entry: './src/init.ts',
        output: {
            filename: './builds/bundle.js'
        },
        resolve: {
            extensions: ['', '.ts', '.tsx','.webpack.js', '.web.js', '.js']
        },
        module: {
            loaders: [
                { test: /\.ts(x?)$/, loader: 'ts-loader' }
            ]
        },
        watch:true,
        plugins: [
            new DeclarationBundlerPlugin({
                out:'./builds/bundle.d.ts',
            })
        ]
    }

Will be turned into:

    //bundle.d.ts
	declare class init {
		getFoo():Foo;
		getFoo2():Foo2;
	}

	declare class Foo {
		bar():boolean;
	}

	declare class Foo2 extends Foo {
		bar():boolean;
	}

With this setup and generated declaration file, other modules that want to use this module can add a reference to the generated bundle.d.ts. 
Then they can access all classes of the module as if they are defined in the index.ts of the module

    ///<reference path="path/to/bundle.d.ts" />
    var foo:Foo = new Foo();
